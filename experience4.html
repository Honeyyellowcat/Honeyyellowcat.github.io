<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Felicity: SPACE Lab</title>
    <!-- Icon and Font -->
    <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/uicons-regular-rounded/css/uicons-regular-rounded.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link rel="icon" href="assets/img/F.png" />
    <!-- Swiper CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/8.2.4/swiper-bundle.css">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Parallax JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/parallax/3.1.0/parallax.min.js"></script>
    <!-- Main CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>
    <div class="header">
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="current.html">Current Work </a></li>
                <li><a href="experience.html">Experiences</a></li>
            </ul>
        </nav>
    </div>

    <div class="wrapper">
        <h1 class="text-pink font-bold select-none uppercase text-3xl md:text-5xl lg:text-6xl padded-heading">SPACE Lab: Pulsed Plasma Thruster Stand</h1>
        <div class="image-container">
            <img src="assets/img/PPT_2.jpg" alt="Pulsed Plasma Thruster Stand">
        </div>
        <div class="text-container">
            <h2 class="text-3xl text-pink">Summary:</h2>
                <ul>
                    <li style="font-size: 20px;"><strong>SPACE Lab Mentor:</strong> <a href="https://www.aa.washington.edu/facultyfinder/justin-little">Dr. Justin Little</a></li>
                    <li>
                      <span style="font-size: larger;"><strong>Space Lab Team:</strong> 
                        <a href="https://www.linkedin.com/in/nathankalockecheng/">Nathan Cheng</a>, 
                        <a href="https://www.linkedin.com/in/felicity-cundiff/">Felicity Cundiff</a>, 
                        <a href="https://www.linkedin.com/in/adam-delbow/">Adam Delbow</a>,
                        <a href="https://www.linkedin.com/in/benjamin-fetters/">Ben Fetters</a>,
                        <a href="https://www.linkedin.com/in/lillie-laplace/">Lillie LaPlace</a>,
                        <a href="https://www.linkedin.com/in/kai-laslett-vigil/">Kai Laslett-Vigil</a>, and 
                        <a href="https://www.linkedin.com/in/winston-wlhere/">Winston Wilhere</a>
                      </span>
                    </li>
                    <li style="font-size: 20px;"><strong>Space Propulsion and Advanced Concepts Engineering Laboratory at the University of Washington, Seattle - (SPACE Lab)</strong> <a href="https://www.uwspacelab.com/">Here</a></li>
                    <p>
                        The project aimed to develop an inverted pendulum test stand for UW's SPACE Lab, intended to measure impulses from pulsed plasma thrusters ranging from 10 μNs to 100 mNs. Constructed with materials like Garolite and Delrin for stability and minimal interference, the test stand underwent rigorous reviews (PDR, CDR, TRR) to ensure it met design specifications. However, during testing, it did not achieve consistent resolution of impulses within the targeted range. This outcome highlighted challenges in accurately measuring thrust forces, necessitating further refinement and calibration to enhance its performance for future experiments in pulsed plasma propulsion research.
                    </p>
                </ul>
            <h2 class="text-3xl text-pink">Mission Objective:</h2>
                <ul>
                    <p>To design and build an operational, minimally conductive, inverted pendulum test stand for the University of Washington’s SPACE Lab. The stand should accurately resolve impulses from pulsed plasma thrusters within a range of 10 μN*s to 100 mN*s.</p>
                </ul>
            <ul class="text-2xl ">
                <li>1. Preliminary Design Review (PDR): <a href="doc/SpaceLab/PDR.pdf" target="_blank">Here</a></li>
                <li>2. Critical Design Review (CDR): <a href="doc/SpaceLab/CDR.pdf" target="_blank">Here</a></li>
                <li>3. Test Readyness Review (TRR): <a href="doc/SpaceLab/TRR.pdf" target="_blank">Here</a></li>
                <li>4. System Test Procedure: <a href="doc/SpaceLab/System_Test_Procedure.pdf" target="_blank">Here</a></li>
                <li>5. System Test Plan: <a href="doc/SpaceLab/System_Test_Plan.pdf" target="_blank">Here</a></li>
                <li>6. Design Document: <a href="doc/SpaceLab/Design_Document.pdf" target="_blank">Here</a></li>
                <li>7. Aceptance Review (AR): <a href="doc/SpaceLab/AR.pdf" target="_blank">Here</a></li>
                <li>8. Test Stand Technical Drawings: <a href="doc/SpaceLab/Test Stand Technical Drawings.pdf" target="_blank">Here</a></li>
                <li>UW Aero Astro Youtube feature: <a href="https://www.youtube.com/watch?v=Vt_HU2nu_CM" target="_blank">Here</a></li>
                <li>UW Aero Astro Instagram feature: <a href="https://www.instagram.com/p/C7Pih_9y952/?img_index=1" target="_blank">Here</a></li>
            </ul>
            <div class="shadow-box">
                <div class="image-wrapper">
                    <img src="assets/img/SpaceTeam.jpeg" alt="Space Team" class="rounded-image">
                    <div class="caption">Space Lab Team: Nathan Cheng, Felicity Cundiff, Adam Delbow, Ben Fetters, Lillie LaPlace, Kai Laslett-Vigil, Winston Wilhere - 
                        Mentor: Dr. Justin Little
                        </div>
                </div>
                <div class="image-wrapper">
                    <img src="assets/img/space_3.jpg" alt="Space Team 2" class="rounded-image">
                    <div class="caption">Designed and built Inverted pendulum test stand for the University for Washington’s SPACE Lab</div>
                </div>
            </div><h2 class="text-2xl text-pink">Preliminary Design Review (PDR)</h2>
            <p>
                The Preliminary Design Review (PDR) for the Pulsed Plasma Thruster Test Stand project defined the technical specifications and design requirements essential for its success. This phase focused on key aspects:
            </p>
            <ul>
                <li><strong>Impulse Measurement Range:</strong> Designed to measure impulses from 10 μN*s to 100 mN*s, crucial for evaluating thruster efficiency.</li>
                <li><strong>Steady-State Thrust Measurement:</strong> Capable of measuring thrusts from 0.1 mN to 0.1 N to assess thruster capabilities.</li>
                <li><strong>Thruster Support Capacity:</strong> Supports thrusters up to 8 kg for flexibility in experimental setups.</li>
                <li><strong>Precision in Alignment:</strong> Ensures alignment accuracy of ±0.05 degrees for reliable performance measurement.</li>
                <li><strong>Zero-Point Return Accuracy:</strong> Returns to zero point with ±0.001 degrees accuracy to minimize measurement errors.</li>
            </ul>
            <p>
                Materials like Garolite and Delrin were chosen for low outgassing, high strength, and dimensional stability, reducing EMI and ensuring measurement reliability. An inverted pendulum design enhances sensitivity to detect small forces effectively.
            </p>
            <ul>
                <li><strong>Real-Time Data Processing:</strong> Software processes sensor data in real-time for immediate feedback and adjustments.</li>
                <li><strong>User Interface:</strong> Intuitive interface allows easy parameter adjustment, real-time data monitoring, and efficient test environment control.</li>
                <li><strong>Data Logging and Analysis:</strong> Comprehensive logging facilitates detailed analysis and supports research reproducibility.</li>
            </ul>
            <p>
                This integration supports effective operation under various experimental conditions, advancing research in pulsed plasma propulsion.
            </p>
                <h2 class="text-2xl text-pink">Critical Design Review (CDR)</h2>
                <p>
                    The Critical Design Review (CDR) for the Pulsed Plasma Thruster Test Stand project focused on finalizing the design specifications and validating the chosen approaches for system construction. This phase ensures that all components are ready for manufacturing and integration:
                </p>
                <ul>
                    <li><strong>Chamber Specifications:</strong>
                        <ul>
                            <li>Dimensions: 1.5m width x 1.5m depth x 2.0m height.</li>
                            <li>Volume: 4.5 cubic meters.</li>
                            <li>Pressure range: 0 to 1 atmosphere, controlled via digital vacuum pump capable of achieving 10^-6 Torr.</li>
                            <li>Temperature range: -20°C to +60°C, monitored by PT100 sensors with accuracy ±0.1°C.</li>
                            <li>Material: 304 stainless steel, thickness 5mm, to withstand high vacuum conditions and thermal stress.</li>
                        </ul>
                    </li>
                    <div class="shadow-box">
                        <div class="image-wrapper">
                            <img src="assets/img/PPT Mount.png" alt="Space Team" class="rounded-image">
                            <div class="caption">Inverted Pendulum Type Test Stand
                                </div>
                        </div>
                    </div>
                    <li><strong>Pendulum Design:</strong>
                        <ul>
                            <li>Length adjustable from 0.5m to 2.0m, using precision linear actuators.</li>
                            <li>Mass of pendulum bob: 1.0 kg, made from aluminum to reduce weight while maintaining structural integrity.</li>
                            <li>Sensor resolution: Encoder with 0.01-degree resolution for precise angular measurement.</li>
                            <li>Calibration: Using a standard mass and g-level apparatus to ensure accuracy.</li>
                        </ul>
                    </li>
                    <div class="shadow-box">
                        <div class="image-wrapper">
                            <img src="assets/img/Inverted Pendulum Type Test Stand.png" alt="Space Team" class="rounded-image">
                            <div class="caption">Inverted Pendulum Type Test Stand
                                </div>
                        </div>
                        <div class="image-wrapper">
                            <img src="assets/img/Assembly Overview.png" alt="Space Team 2" class="rounded-image">
                            <div class="caption">Assembly Overview 
                                </div>
                        </div>
                    </div>
                    <li><strong>Leveling System:</strong>
                        <ul>
                            <li>- Base of the test stand will be leveled by way of a stepper motor.</li>
                            <li>- Base will be allowed to pivot through a TBD angle on nylon bushings.</li>
                        </ul>
                    <div class="shadow-box">
                        <div class="image-wrapper">
                            <img src="assets/img/Leveling System Structure Overview.png" alt="Space Team" class="rounded-image">
                            <div class="caption">Leveling System: Structure Overview
                                </div>
                        </div>
                        <div class="image-wrapper">
                            <img src="assets/img/Leveling System.png" alt="Space Team 2" class="rounded-image">
                            <div class="caption">Leveling System: Able to pitch ±3 degrees 
                                </div>
                        </div>
                    </div>
                    <div class="shadow-box">
                        <div class="image-wrapper">
                            <img src="assets/img/Leveling System Avionics Overview.png" alt="Space Team" class="rounded-image">
                            <div class="caption">Leveling System: Avionics Overview
                                </div>
                        </div>
                        <div class="image-wrapper">
                            <img src="assets/img/Leveling System Avionics.png" alt="Space Team 2" class="rounded-image">
                            <div class="caption">Non-captive actuator model chosen for smaller footprint compared to other design options. Nema 23 metal actuator rod converted to 3D printed part. DM556T chosen for high compatibility with Arduino Uno and Nema 23 motors.
                                </div>
                        </div>
                    </div>
                    <li><strong>Thrust Measurements:</strong>
                        <ul>
                            <li>- Measurement range: 10 μN*s to 100 mN*s, critical for capturing the full range of thrust outputs from the PPT.</li>
                            <li>- Instrumentation: Use of strain gauges and laser displacement sensors for precise measurement.</li>
                            <li>- Calibration: Calibration against the Dawstar PPT, with accuracy expected within ±5% of actual thrust measurements.</li>
                            <li>- Predicted results: Accurate measurement within the specified range to validate the system's capability to measure impulse forces effectively.</li>
                        </ul>
                        <div class="shadow-box">
                            <div class="image-wrapper">
                                <img src="assets/img/Thrust Measurement Avionics.png" alt="Space Team" class="rounded-image">
                                <div class="caption">Thrust Measurement Avionics 
                                    </div>
                            </div>
                            <div class="image-wrapper">
                                <img src="assets/img/Thrust Measurement Avionics2.png" alt="Space Team 2" class="rounded-image">
                                <div class="caption">NI USB-6009 has 512 byte FIFO buffer for data transferred to the computer. IL-030 has a rated resolution of 788 μin (20 μm, to be verified) and programmable 1 - 3 kHz output frequency. IL-1000 compatible with IL-030 for signal amplification prior to digitization. TPSM265R1EVM receives 3.3V power source from Arduino and boosts it to 15V with 100mA to power IL-1000
                                </div>
                            </div>
                        </div>
                        <div class="shadow-box">
                            <div class="image-wrapper">
                                <img src="assets/img/Thrust Measurement Calibration.png" alt="Space Team" class="rounded-image">
                                <div class="caption">Electrostatic Comb
                                    </div>
                            </div>
                            <div class="image-wrapper">
                                <img src="assets/img/Thrust Measurement Calibration2.png" alt="Space Team 2" class="rounded-image">
                                <div class="caption">A plot of Linear Impulse is generated to determine the slope c, which represents the calibration constant of the system for the duration of testing for that day.
                                    This determination of the slope c ensures that the system's response is accurately calibrated for the specific testing conditions.
                                    The calibration process should be repeated before and after testing to ensure consistency and accuracy in the system's performance across different operating conditions.
                                </div>
                            </div>
                        </div>
                        <div class="text-container">
                            <h3 class="text-2xl text-pink">Calibration and Testing Code:</h3> 
                            <pre class="code-box small">
                            <code>

    import pandas as pd
    import matplotlib.pyplot as plt
    import seaborn as sns
    from sklearn.linear_model import LinearRegression

    sns.set(style="whitegrid")

    def detect_max_voltage(csv_files, voltage_column, start_row):
        max_voltages = []  # List to store maximum voltages
        
        for csv_file in csv_files:
            print("Processing file:", csv_file)
            df = pd.read_csv(csv_file)  # Load CSV file into a DataFrame
            voltage_data = df.loc[start_row:, voltage_column]  # Select the 'CH4' column starting from row 17
            voltage_data = pd.to_numeric(voltage_data, errors='coerce')  # Convert voltage data to numeric type
            voltage_data.dropna(inplace=True)  # Drop rows with NaN values in the voltage data
            max_voltage = voltage_data.max()  # Find maximum voltage value
            max_voltages.append(max_voltage)  # Append maximum voltage to the list
            print("Maximum voltage:", max_voltage)  # Print maximum voltage value
            print()

        return max_voltages

    def plot_vmax_vs_impulses(known_impulses, max_voltages, subplot_index):
        plt.subplot(2, 1, subplot_index)  # Use the provided subplot index
        plt.plot(known_impulses, max_voltages, marker='o', linestyle='-', color='#ff5733', linewidth=3, markersize=10)  # Adjust line and marker styles
        plt.xlabel('Number of Known Impulse Plot', fontsize=14, fontweight='bold', color='#333333')  # Adjust font size and style
        plt.ylabel('Maximum Voltage', fontsize=14, fontweight='bold', color='#333333')  # Adjust font size and style
        plt.title('Linear Impulses', fontsize=16, fontweight='bold', color='#333333')  # Adjust font size and style
        plt.grid(True, linestyle='--', alpha=0.7, color='#aaaaaa')  # Adjust grid style
        plt.xticks(fontsize=12, color='#555555')  # Adjust tick labels
        plt.yticks(fontsize=12, color='#555555')  # Adjust tick labels
        plt.tight_layout()  # Adjust layout
        plt.gca().set_facecolor('#f0f0f0')  # Set background color of plot face

    # I_bit = v_max / c ------------------------------------------------------------------------------------------------------------------------------
    def plot_ibit_vs_vmax(max_voltages, slope, subplot_index):
        plt.subplot(2, 1, subplot_index)  # Use the provided subplot index
        bit_impulses = [v / slope for v in max_voltages]
        plt.plot(bit_impulses, max_voltages, marker='s', linestyle='--', color='blue', linewidth=2, markersize=8)  # Adjust line and marker styles
        plt.xlabel('Time (s)', fontsize=14, fontweight='bold', color='#333333')  # Adjust font size and style
        plt.ylabel('Maximum Voltage', fontsize=14, fontweight='bold', color='#333333')  # Adjust font size and style
        plt.title('Impulse Plot', fontsize=16, fontweight='bold', color='#333333')  # Adjust font size and style
        plt.grid(True, linestyle='--', alpha=0.7, color='#aaaaaa')  # Adjust grid style
        plt.xticks(fontsize=12, color='#555555')  # Adjust tick labels
        plt.yticks(fontsize=12, color='#555555')  # Adjust tick labels
        plt.tight_layout()  # Adjust layout
        plt.gca().set_facecolor('#f0f0f0')  # Set background color of plot face

    # File
    csv_files = ['C:/Users/every/OneDrive/Desktop/CODE/4 - PPT/CALI/T0298.csv', 'C:/Users/every/OneDrive/Desktop/CODE/4 - PPT/CALI/T0299.csv', 'C:/Users/every/OneDrive/Desktop/CODE/4 - PPT/CALI/T0299_2.csv']
    new_csv_files = ['C:/Users/every/OneDrive/Desktop/CODE/4 - PPT/CALI/T0298_I_bit.csv', 'C:/Users/every/OneDrive/Desktop/CODE/4 - PPT/CALI/T0299_I_bit.csv', 'C:/Users/every/OneDrive/Desktop/CODE/4 - PPT/CALI/T0299_2.csv']

    voltage_column = "CH4"  # Adjust column name as needed
    start_row = 17  # Adjust the starting row as needed

    known_impulses = [1, 2, 3, 4]  # Extend known impulses to 3 and 4

    # Detect maximum voltages for the initial CSV files
    max_voltages = detect_max_voltage(csv_files, voltage_column, start_row)

    # Calculate the slope using linear regression
    model = LinearRegression()
    X = pd.DataFrame(known_impulses[:len(max_voltages)])  # Ensure known impulses match the length of max_voltages
    y = pd.DataFrame(max_voltages)
    model.fit(X, y)
    slope = model.coef_[0][0]

    # Print the slope
    print("Slope value:", slope)

    # Plot both graphs on the same figure
    plt.figure(figsize=(10, 12))  # Adjust figure size

    # Plot V_max vs Known Impulses in the first subplot
    plot_vmax_vs_impulses(known_impulses[:len(max_voltages)], max_voltages, 1)

    # Detect maximum voltages for the new CSV files (if different from initial)
    new_max_voltages = detect_max_voltage(new_csv_files, voltage_column, start_row)

    # Plot I_bit vs V_max in the second subplot
    plot_ibit_vs_vmax(new_max_voltages, slope, 2)

    plt.show()    
                            </code>
                            </pre>
                        </div>
                        <ul>
                            <li><strong>Software GUI Features:</strong>
                                <ul>
                                    <li>Sampling Rate: 1000 samples/second</li>
                                    <li>Data Storage: Logs data for 24 hours (86,400,000 data points)</li>
                                    <li>Real-time Data Processing: Provides immediate feedback</li>
                                    <li>User-friendly GUI: Developed with Python and Tkinter</li>
                                    <li>Control Features:
                                        <ul>
                                            <li>Controls Arduino-driven stepper motor using PySerial</li>
                                            <li>Manages data with NI-DAQmx Driver and PySerial</li>
                                            <li>Converts measurements to thrust values</li>
                                            <li>Estimates thrust uncertainties</li>
                                            <li>Calibrates deflection to thrust</li>
                                            <li>Includes directional buttons, RPM sliders, and angle indicators</li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li><strong>Materials:</strong> Garolite and Delrin chosen for low outgassing, high strength, stability, and low friction properties to minimize interference and ensure accurate measurements. Inverted pendulum design enhances sensitivity for detecting small forces effectively.</li>
                            <li><strong>Integration with Test Stand:</strong> Integrates chamber, pendulum, and software for cohesive experiments under varied conditions</li>
                            <li><strong>Data Logging and Analysis:</strong> Logs data for 24 hours, supporting detailed analysis</li>
                            <li><strong>User Interface:</strong> GUI facilitates parameter setting, real-time data monitoring, and environment control</li>
                        </ul>
                        
                        <p>This setup ensures effective operation of the Pulsed Plasma Thruster Test Stand for experimental research in pulsed plasma propulsion.</p>
                        
                        <div class="shadow-box">
                            <div class="image-wrapper">
                                <img src="assets/img/Data Analysis GUI.png" alt="Space Team" class="rounded-image">
                                <div class="caption">Stepper motor control GUI
                                    </div>
                            </div>
                            <div class="image-wrapper">
                                <img src="assets/img/Data Analysis GUI2.png" alt="Space Team 2" class="rounded-image">
                                <div class="caption">Data Analysis GUI Command Window
                                </div>
                            </div>
                        </div>
                    <div class="text-container">
                        <h3 class="text-2xl text-pink">Leveling Systems Python Code:</h3> 
                        <pre class="code-box small">
                        <code>
    import serial
    import serial.tools.list_ports
    import tkinter as tk
    import math
    
    def move_custom(direction, degrees):
        global current_steps, step_counter_label, current_degrees  # Declare variables as global
        steps_per_revolution = 200 #confirm this empirically
        mm_per_revolution = 1.37 #confirm this empirically
        lever_arm = 20 #inches
        inch_to_mm = 25.4
        degress_to_rad = math.pi/180
        
        steps=math.sin(degrees*degress_to_rad)*lever_arm/(mm_per_revolution/inch_to_mm)*steps_per_revolution
        
        if direction == 'Up':  # Check if the direction is forward
            current_steps += steps  # Increment the current position by the number of steps
            current_degrees +=degrees
            command = 'A' + str(steps) + '\n'  # Command for forward movement
        elif direction == 'Down':
            current_steps -= steps  # Decrement the current position by the number of steps
            current_degrees -=degrees
            command = 'B' + str(steps) + '\n'  # Command for backward movement
        #print(f"Sending command: {command}")  # Debug print
        ser.write(command.encode())  # Send the command to Arduino
        step_counter_label.config(text=f"Angular position: {current_degrees}")  # Update the step counter
    
    # Function to stop everything immediately
    def stop_all():
        ser.write(b'S\n')  # Send the stop command to Arduino
        ser.flush()  # Flush the serial buffer to ensure the command is sent immediately
    
    # Function to move motor to zero position
    def move_to_zero():
        global current_steps, current_degrees  # variable global
        if current_steps >=0:  # Check if there are steps needed to move to zero
            command= 'B' + str(abs(current_steps)) + '\n'  # Command to move backward to zero position
            ser.write(command.encode())
        elif current_steps <0:
            command= 'A' + str(abs(current_steps)) + '\n' # Command to move backward to zero position
            ser.write(command.encode())
        current_steps = 0  # Reset current position
        current_degrees = 0
        step_counter_label.config(text="Angular position: 0")  
    
    # Function to quit
    def quit_app():
        move_to_zero() 
        ser.close()  
        root.quit()  
    
    # GUI setup
    def create_gui():
        global root, current_steps, step_counter_label, current_degrees  # Declare root as a global variable
        root = tk.Tk()
        root.title("Stepper Motor Control")
        current_steps = 0
        current_degrees=0
    
        custom_button = tk.Button(root, text="Move (degrees)", command=custom_steps)
        custom_button.grid(row=0, columnspan=2, padx=10, pady=10)
    
        quit_button = tk.Button(root, text="Quit", command=quit_app)
        quit_button.grid(row=1, columnspan=2, padx=10, pady=10)
    
        step_counter_label = tk.Label(root, text="Angular position: 0")
        step_counter_label.grid(row=2, columnspan=2, padx=10, pady=10)
    
        root.mainloop()
    
    # Function for custom steps input
    def custom_steps():
        custom_window = tk.Toplevel(root)
        custom_window.title("Move (degrees)")
    
        direction_label = tk.Label(custom_window, text="Direction:")
        direction_label.grid(row=0, column=0, padx=10, pady=10)
    
        direction_var = tk.StringVar(value="Up")
        direction_menu = tk.OptionMenu(custom_window, direction_var, "Up", "Down")
        direction_menu.grid(row=0, column=1, padx=10, pady=10)
    
        steps_label = tk.Label(custom_window, text="Degrees:")
        steps_label.grid(row=1, column=0, padx=10, pady=10)
    
        steps_entry = tk.Entry(custom_window)
        steps_entry.grid(row=1, column=1, padx=10, pady=10)
    
        confirm_button = tk.Button(custom_window, text="Move", command=lambda: move_custom(direction_var.get(), int(steps_entry.get())))
        confirm_button.grid(row=2, columnspan=2, padx=10, pady=10)
    
    # Arduino port
    def get_arduino_port():
        ports = serial.tools.list_ports.comports()
        for port in ports:
            if 'COM3' in port.device: 
                return port.device
        return None
    
    # Main
    arduino_port = get_arduino_port()
    if arduino_port:
        ser = serial.Serial(arduino_port, baudrate=9600, timeout=1)
        create_gui()
    else:
        print('Arduino not found on any port!')
                            </code>
                        </pre>
                    </div>
                    <div class="text-container">
                        <h3 class="text-2xl text-pink">Leveling Systems Arduino Code:</h3> 
                        <pre class="code-box small">
                        <code>
    const int stepPin = 2; // Step pin connected to Arduino digital pin 2
    const int dirPin = 3;  // Direction pin connected to Arduino digital pin 3
    const int enPin = 4; // Enable pin
    
    void setup() {
    stepper.setMaxSpeed(3000); // Set maximum speed
    Serial.begin(9600); // Initialize serial communication
    digitalWrite(dirPin, HIGH);
    //digitalWrite(4, HIGH); //LOW is on?
    }
    
    void loop() {
    if (Serial.available() >= 2) { // Check if there are enough bytes available
        String str = Serial.readString(); // Read the command sent from Python
        String command = str.substring(0,1);
        String stepsstr= str.substring(1,str.length());
        int steps=stepsstr.toInt();
        if (command == "A") //set dirPin based on direction input
        digitalWrite(dirPin, HIGH);
        if (command == "B")
        digitalWrite(dirPin, LOW);
        for (int i=0; i<=steps; i++) {
        igitalWrite(stepPin, HIGH);
        delay(1); //change the delay value to adjust motor speed
        digitalWrite(stepPin, LOW);
        delay(1);
        }
        }
    }
                            </code>
                        </pre>
                    </div>
                </ul><h2><strong>Test Readiness Review (TRR):</strong></h2><p>
                    The TRR for the Pulsed Plasma Thruster Test Stand project aimed to validate system readiness for testing phases, ensuring all parameters were within specified tolerances and setup was capable of reliable data production:
                </p>
                <ul>
                    <li><strong>Chamber Interface:</strong>
                        <ul>
                            <li>Dimensions: 1.5m x 1.5m x 2.0m</li>
                            <li>Volume: 4.5 cubic meters, vacuum environment</li>
                            <li>Vacuum system: Achieve pressures down to 10^-6 Torr</li>
                            <li>Temperature control: -20°C to +60°C, PT100 sensors ±0.1°C</li>
                            <li>Material: 304 stainless steel, 5mm thickness</li>
                            <li>Challenges: Difficulty achieving low pressures; additional pump capacity evaluated</li>
                        </ul>
                    </li>
                    <li><strong>Leveling System:</strong>
                        <ul>
                            <li>Precision leveling: ±0.05 degrees</li>
                            <li>Electronic sensors and manual adjustments</li>
                            <li>Outcome: Stable alignment</li>
                            <li>Testing: Verifying performance under conditions</li>
                        </ul>
                    </li>
                    <li><strong>Thrust Measurements:</strong>
                        <ul>
                            <li>Range: 10 μN*s to 100 mN*s</li>
                            <li>Instrumentation: Strain gauges, laser displacement sensors</li>
                            <li>Calibration: ±5% accuracy against Dawstar PPT</li>
                            <li>Results: Accurate measurement within range</li>
                        </ul>
                    </li>
                        <div class="text-container">
                        <h3 class="text-2xl text-pink">Matlab Pendulum Displacement Code:</h3> 
                        <pre class="code-box small">
                        <code>
    clear all
    close all

    g0=9.81; %m/s^2
    m_pendulum=2.006; % mass of the pendulum (kg)
    m_thruster=0.986; % mass of thruster(kg)
    m=m_thruster+m_pendulum; %total mass of pendulum and thruster(kg)
    lever_arm=17.79 * 0.0254; % length of lever arm (m)
    impulse=10e-6; % Impulse magnitude (N*s)
    zeta=0.3;

    % Flexure dimensions
    w=0.75*0.0254; % width of flexures (m)
    h=0.01*0.0254; % thickness of flexures (m)
    l=1.64*0.0254; % length of flexures (m)

    % Material properties
    E_steel=205e9; % Elastic modulus of steel (Pa)

    % Equivalent spring constant of flexures
    k=(3*E_steel*w*h^3)/(12*(1*l^3)); %one flexure
    keff=(((2/k)^-1)*4); %eight flexures.  4 sets of 2 series flexure, all with the same properties
    xrad=0.3803; %deflection required for 1 rad deflection based on lever arm
    krad=(keff*lever_arm*xrad)-(m*g0*lever_arm); %N*m/rad

    % Calculate natural frequency and damping coefficient
    Ip=m*lever_arm^2/3;
    omega_n=sqrt(krad/Ip); % natural frequency (rad/s)
    %omega_n=sqrt((keff*0.5^2-m*g0*0.5-0.136*g0*0.5*0.5)/((m+0.136/3)*0.5^2)); % natural frequency (rad/s)
    c=2*zeta*sqrt(Ip*krad); %N*m*s/rad
    %c=2*zeta*omega_n*m_pendulum; % damping coefficient (N*s/m)

    % Impulse force
    duration=0.000003; % duration of impulse (s)
    F_impulse=impulse/duration; % impulse force (N)

    % Motion
    tspan=[0 duration]; % simulation time span (s)
    [t1, x1]=ode45(@(t,x) system_eqns(t,x,krad,c,F_impulse,lever_arm,Ip), tspan, [0; 0]);

    x0=x1(end,1);
    v0=x1(end,2);
    tspan=[duration 10];
    [t2, x2]=ode45(@(t,x) system_eqns(t,x,krad,c,0,lever_arm,Ip), tspan, [x0; v0]);

    hold on
    plot(t1, x1(:, 1)*lever_arm, 'k');
    plot(t2, x2(:,1)*lever_arm, 'k');
    xlabel('Time (s)');
    ylabel('Displacement (m)');
    title('Displacement vs Time 10\muN*s Impulse on 0.01" Thick Flexures');
    %yline(7.60609E-4,'--r')
    %yline(7.455477E-4,'--r')
    %set(gca,'FontSize',24, 'FontName', 'Calibri')
    %legend('Displacement of Pendulum','1% Settling time')
    hold off

    % System_eqns function
    function dxdt = system_eqns(t, x, k, c, F_impulse, lever_arm, Ip)
        % State variables
        r=x(1); % Displacement angular, small angle approx.
        w=x(2); % Velocity angular

        % Derivatives
        drdt=w; %dxdt angular
        dwdt=(1/Ip)*((F_impulse*lever_arm)-(k*r)-(c*w)); %dvdt angular

        % Output derivatives
        dxdt=[drdt; dwdt]; 
    end   
                        </code>
                        </pre>
                    </div>
                    </li>
                    <li><strong>PPT Mount:</strong>
                        <ul>
                            <li>Custom-designed mounts</li>
                            <li>Alignment precision: &lt;1mm deviation</li>
                            <li>Outcome: Secure mounting, minimal errors</li>
                        </ul>
                    </li>
                    <div class="shadow-box">
                        <div class="image-wrapper">
                            <img src="assets/img/System Architecture.png" alt="Space Team" class="rounded-image">
                            <div class="caption">Descoped System Architecture
                                </div>
                        </div>
                        <div class="image-wrapper">
                            <img src="assets/img/Assembly Overview (Descoped).png" alt="Space Team 2" class="rounded-image">
                            <div class="caption">Assembly Overview (Descoped)
                                </div>
                        </div>
                    </div>
                    <li><strong>Data Analysis:</strong>
                        <ul>
                            <li>Sampling rate: 1000 samples/sec</li>
                            <li>Data storage: 24 hours (86,400,000 points)</li>
                            <li>Tools: Real-time processing, post-test analysis</li>
                            <li>Results: Reliable acquisition and analysis</li>
                        </ul>
                    </li>
                </ul>
                <p>
                    Integration of these systems is critical for the Pulsed Plasma Thruster Test Stand, providing a robust platform for comprehensive tests. Contingency plans are in place to address setup challenges, ensuring project success.
                </p>
                <h2 class="text-2xl text-pink">Acceptance Review (AR)</h2>
                <p>
                    This document summarizes the outcomes of the tests conducted on the experimental setup, outlining the performance and efficacy of the various components involved in the project.
                </p>
                <ul>
                    <li><strong>Chamber Interface:</strong>
                        <ul>
                            <li>Pressure retention: The chamber maintained a stable vacuum at 1.5 x 10^-6 Torr throughout the 120-hour testing period, indicating effective sealing capabilities.</li>
                            <li>Leak rate: A low leak rate of 2.5 x 10^-9 Torr·L/s was observed, showcasing the integrity of the chamber interface.</li>
                            <li>Temperature stability: The chamber's temperature remained stable within ±0.2°C, suggesting that the thermal environment was well-controlled.</li>
                            <li>Conclusion: The chamber interface proved to be effective in maintaining the desired environmental conditions, validating the design's capability to sustain necessary operational conditions.</li>
                        </ul>
                    </li>
                    <li><strong>Leveling System:</strong>
                        <ul>
                            <li>Alignment accuracy: The leveling system achieved alignment within ±0.02 mm, which is crucial for the precise positioning of experimental components.</li>
                            <li>Load handling: It effectively supported loads up to 100 kg without any structural deflections.</li>
                            <li>Adjustment precision: The system allowed for fine adjustments up to ±0.05 mm, providing flexibility in component placement.</li>
                            <li>Conclusion: The leveling system demonstrated robustness and precision, essential for the accurate setup required in high-precision experiments.</li>
                        </ul>
                    </li>
                    <li><strong>Thrust Measurements:</strong>
                        <ul>
                            <li>Thrust output: The system consistently produced a thrust of 450 N, with a peak at 455 N, meeting design specifications.</li>
                            <li>Thrust stability: Fluctuations were minimal (±5 N), indicating stable performance under the tested conditions.</li>
                            <li>Specific impulse: Achieving 250 seconds, the specific impulse is in line with theoretical expectations.</li>
                            <li>Conclusion: The thrust measurements validate the operational efficiency of the propulsion system, confirming its alignment with theoretical models and expectations.</li>
                        </ul>
                    </li>
                    <li><strong>PPT Mount:</strong>
                        <ul>
                            <li>Structural integrity: The PPT mount withstood pressures up to 150 MPa without significant deformation, demonstrating its durability and strength.</li>
                            <li>Durability: Successfully completed 100 stress cycles with minimal wear, indicating good material performance under repeated stress conditions.</li>
                            <li>Compliance: The mount met all specified dimensional stability requirements, ensuring compatibility with the rest of the system components.</li>
                            <li>Conclusion: The PPT mount's performance confirms its suitability for the intended operational environment, supporting the overall system integrity.</li>
                        </ul>
                    </li>
                    <li><strong>Data Analysis:</strong>
                        <ul>
                            <li>Performance consistency: Key metrics remained within ±5% of expected values, indicating reliable system performance.</li>
                            <li>Data discrepancies: Minor discrepancies in pressure readings suggest the need for environmental control enhancements and sensor recalibration.</li>
                            <li>Recommendations: Further refine environmental controls and implement real-time data correction algorithms to enhance measurement accuracy.</li>
                            <li>Conclusion: The data analysis indicates that while the system is performing well, there is room for improvements in environmental controls and sensor precision to further enhance the experimental outcomes.</li>
                        </ul>
                        <div class="shadow-box">
                            <div class="image-wrapper">
                                <img src="assets/img/Pendulum Steady State Response Testing.png" alt="Space Team" class="rounded-image">
                                <div class="caption">9.8 mN, 19.6 mN, 29.4 mN forces applied to the pendulum and steady state deflection was measured
                                    </div>
                            </div>
                            <div class="image-wrapper">
                                <img src="assets/img/Pendulum Response Modeling.png" alt="Space Team 2" class="rounded-image">
                                <div class="caption">Pendulum becomes unstable at approximately 1.375 kg of load
                                    </div>
                            </div>
                        </div>
                        <div class="shadow-box">
                            <div class="image-wrapper">
                                <img src="assets/img/Pendulum Impulse Response Predictions.png" alt="Space Team" class="rounded-image">
                                <div class="caption">Results For Keff = 0.300 N*m/rad, predicted minimum resolvable impulse is 45.5 μN*s ± 50% with 20 μm deflection
                                    </div>
                            </div>
                            <div class="image-wrapper">
                                <img src="assets/img/Pendulum Step Response Predictions2.png" alt="Space Team 2" class="rounded-image">
                                <div class="caption">Results for Keff = 0.300 N*m/rad, predicted response for 0.1 mN is 134 μm deflection (±13% uncertainty).
                                    </div>
                            </div>
                        </div>
                        <div class="text-container">
                            <h3 class="text-2xl text-pink">Matlab Data Analysis Code:</h3> 
                            <pre class="code-box small">
                            <code>
    close all
    clear all

    % Enter Values used in experiment:
    h1=0.025; %thickness of flexure in inches

    %Input vector of impulses imparted to pendulum for each test in order:
    impulses=[0.122212 0.078705 0.128324 0.0513293 0.3464727 0.0846933 0.038497]; %N*s

    %Input mass added to pendulum for each test in order:
    masses=[1.070 1.170 1.170 1.170 1.270 1.270 1.270]; %kg

    %constants calculated from pendulum characteristics:
    g0=9.81; %m/s^2
    zeta=0; %damping ratio 
    m_arm=0.045; %mass of arms in kg
    arm_number=4;
    m_pend=0.253; % mass of the pendulum (kg) no shelf
    lever_arm=19.8; % length of lever arm (in)
    fos=1.13; %Set FoS desired
    in_to_m = 0.0254; %convert inches to meters

    E_steel=205e9; % Elastic modulus of steel (Pa)
    G=80e9; %Shear modulus of steel (Pa), both E and G are for 1095 spring steel
    rho_steel=7850; %kg/m^3

    w=0.6*in_to_m; %convert dimensions of inches to m
    l=3.6*in_to_m;
    h=h1*in_to_m;
    lever_arm=lever_arm*in_to_m;
    xrad=lever_arm; %distance required for 1 rad deflection through an arc length units of m/rad

    %set range of files to view
    start=34;
    last=40;

    data_values=[];
    for i = start:last
    A=readmatrix("/Users/ testing/TEK00"+num2str(i)+".CSV");
    A(1:15, :)=[];
    t=A(:,4);
    defl=A(:,5);
    zero_point=mean(defl); %average all data to find where it oscillates about
    defl=defl-zero_point; %zero point data
    max_defl=max(defl); %find first peak
    peak_min_ind=find(defl==min(defl)); %find first minimum
    peak_min_ind=peak_min_ind(1); %find indice of first min to split data into two sections
    t_min=t(peak_min_ind); %find what time the first min occurs
    peak1=max(defl(1:peak_min_ind)); %find the peak before that min time
    peak2=max(defl(peak_min_ind:end)); %find the peak after that min time

    %now determine damping during this test with the two peak values
    sigma=log(peak1/peak2);
    zeta=1/sqrt(1+(2*pi/sigma)^2);

    t_peak10=t(find(defl(1:peak_min_ind)==peak1)); %find the indices of time for which the first peak occurs
    t_peak1=mean(t_peak10); %average those times
    t_peak20=t(find(defl(peak_min_ind:end)==peak2)+peak_min_ind);
    t_peak2=mean(t_peak20);
    omega_d=1/(t_peak2-t_peak1); %solve for natural frequency in Hz
    omega_n=omega_d/sqrt(1-zeta^2);
    data_values=vertcat(data_values, [max_defl, impulses(i+1-start), omega_n, zeta]); %add max deflection and natural frequency to a vector
    if i == last
        data_values;
    end
    %figure()
    % plot(t, defl)
    % xlim([-1 max(t)])
    % ylabel('mm')
    % xlabel('seconds')
    %title('tek00'+num2str(i));
    end

    kflex_vals=[];
    max_defl_vals=[];
    for i = 1:length(data_values(:,1))
    tm=masses(i); %mass applied to pendulum
    m_top=m_pend+tm; %total mass of pendulum and thruster (kg)
    m_total=m_top+(m_arm*arm_number); %total mass of stand (kg)
    lever_arm=19.8*0.0254; % length of lever arm (m), ref: 19.8
    Ip=((1/3)*m_arm*arm_number*lever_arm^2)+(m_top*lever_arm^2); %account for center of gravity of arms
    omega_n=data_values(i, 3)*2*pi; %pull nat frequency for this test from previous, convert to rad/s
    keff=Ip*omega_n^2; %units of N*m
    kpend=(m_top*g0*lever_arm)+(m_arm*arm_number*g0*0.5*lever_arm); % Torque per radian of tilt for pendulum body
    % keff=(keff*xrad*lever_arm)-kpend %old code to solve for keff, now rearranged below to solve for kflex
    kflex=(keff+kpend)/(xrad*lever_arm); %rearranged math
    kflex_vals(i)=kflex;

    % now model response based on data
    duration=0.00003; % duration of impulse (s)
    F_impulse=data_values(i,2)/duration; % impulse force (N)
    c=2*data_values(i,4)*Ip*omega_n;

    % Motion
    tspan=[0 duration]; % simulation time span (s)
    [t1, x1]=ode89(@(t,x) system_eqns(t,x,keff,c,F_impulse,lever_arm,Ip), tspan, [0; 0]);
    r0=x1(end,1);
    w0=x1(end,2);
    tspan=[duration 25];
    [t2, x2]=ode89(@(t,x) system_eqns(t,x,keff,c,0,lever_arm,Ip), tspan, [r0; w0]); %odeset('AbsTol', 1e-10)

    max1=max(x2(:,1))*lever_arm;
    max_defl_vals(i)=max1;
    %meas_uncert=10/(max1*1E6)*100; %uncertainty of the measurment in percent

    end
    kflex=mean(kflex_vals)
    predicted_diffs=transpose(1000*max_defl_vals)./data_values(:,1) %determine ratio of actual deflection to the predicted value



    % System_eqns function
    function dxdt = system_eqns(t, x, k, c, F_impulse, lever_arm, Ip)
        % State variables
        r=x(1); % Displacement angular, small angle approx.
        w=x(2); % Velocity angular

        % Derivatives
        drdt=w; %dxdt angular
        dwdt=(1/Ip)*((F_impulse*lever_arm)-(k*r)-(c*w)); %dvdt angular

        % Output derivatives
        dxdt=[drdt; dwdt]; 
    end
                            </code>
                        </pre>
                    </div>
                    </li>
                </ul>
                <p>
                    In conclusion, the tests confirm that the experimental setup performs effectively under the specified conditions. However, addressing the minor discrepancies and enhancing the environmental controls will be crucial for achieving even greater precision and reliability in future experiments.
                </p>
    </div>

    <div class="text-container">
        <h3 class="text-2xl text-pink">Other material:</h3> 
        <ul>
            <li>1. Flexure Buckling Test Procedure: <a href="doc/SpaceLab/Flexure Buckling Test Procedure.pdf" target="_blank">Here</a></li>
            <li>2. Flexure Buckling Test Plan: <a href="doc/SpaceLab/Flexure Buckling Test Plan.pdf" target="_blank">Here</a></li>
            <li>3. Flexure Replacement Procedure: <a href="doc/SpaceLab/Flexure Replacement Procedure.pdf" target="_blank">Here</a></li>
            <li>4. Leveling System Test Procedure: <a href="doc/SpaceLab/Leveling System Test Procedure.pdf" target="_blank">Here</a></li>
            <li>5. Waterfall Calibration Test Procedure: <a href="doc/SpaceLab/Waterfall Calibration Test Procedure.pdf" target="_blank">Here</a></li>
            <li>6. Waterfall Calibration Test Plan: <a href="doc/SpaceLab/Waterfall Calibration Test Plan.pdf" target="_blank">Here</a></li>
            <li>7. Motion Damping System Test Procedure: <a href="doc/SpaceLab/Test Procedure - Motion Damping System.pdf" target="_blank">Here</a></li>
            <li>8. Structural Deflection Test Procedure: <a href="doc/SpaceLab/Structural Deflection Test Procedure.pdf" target="_blank">Here</a></li>
            <li>9. Test Stand Size Procedure: <a href="doc/SpaceLab/Test Stand Size Procedure.pdf" target="_blank">Here</a></li>
            <li>10. Test Procedure - Software: <a href="doc/SpaceLab/Test Procedure - Software.pdf" target="_blank">Here</a></li>
            <li>11. IL-030 Test Procedure: <a href="doc/SpaceLab/IL-030 Test Procedure .pdf" target="_blank">Here</a></li>
            <li>12. Atm Impulse Procedure: <a href="doc/SpaceLab/Atm Impulse Procedure.pdf" target="_blank">Here</a></li>
            <li>13. Manufacturing Plan: <a href="doc/SpaceLab/Manufacturing Plan.pdf" target="_blank">Here</a></li>
            <li>14. Link to University for Washington’s<a href="https://www.uwspacelab.com/" target="_blank"> SPACE Lab</a></li>
        </ul>

    </div>
    <section id="photo-album">
        <h2>Photo Album</h2>
        <div class="photo-grid">
            <div class="photo">
                <img src="assets/img/space_1.jpg" alt="Photo 1">
            </div>
            <div class="photo">
                <img src="assets/img/space_2.jpg" alt="Photo 2">
            </div>
            <div class="photo">
                <img src="assets/img/space_3.jpg" alt="Photo 2">
            </div>
            <div class="photo">
                <img src="assets/img/space_4.jpg" alt="Photo 2">
            </div>
            <div class="photo">
                <img src="assets\img\PPT_8.jpg" alt="Photo 2">
            </div>
        </div>
    </section>

    <footer>
        <div class="footer-container">
            <nav class="foot-nav">
                <ul>
                    <li>
                        <a href="mailto:felicitycundiff@gmail.com">felicitycundiff@gmail.com</a>
                        <a href="tel:+12063533425">(206) 353-3425</a>
                    </li>
                    <li>
                        <a href="https://www.linkedin.com/in/felicity-cundiff/">Linkedin</a>
                        <a href="https://github.com/Honeyyellowcat">Github</a>
                    </li>
                </ul>
            </nav>
        </div>
    </footer>
    

        <!---main js--->
        <script src="assets/js/codebox.js"></script>
        <script src="assets/js/photos2.js"></script>
        <script src="assets/js/tablink.js"></script>
    </body>
    </html>
